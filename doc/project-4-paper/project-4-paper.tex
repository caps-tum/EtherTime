% !TeX document-id = {50f0f04c-d5f8-4417-bb49-0e71ddd7bfde}
% !TeX TXS-program:bibliography = txs:///biber

\documentclass[conference]{IEEEtran}
%\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
%\usepackage{cite}
\usepackage{xfp}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{chains}
\usetikzlibrary {matrix}
\usetikzlibrary{fit}
\usetikzlibrary{calc}
\usepackage{fontawesome5}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage[capitalize]{cleveref}
\crefname{section}{§}{§§}
\crefformat{section}{§#2#1#3}
\usepackage[%
  bibstyle=ieee,
  citestyle=numeric,
  isbn=true,
  doi=false,
  sorting=none,
  url=true,
  defernumbers=true,
  bibencoding=utf8,
  backend=biber
]{biblatex}
\addbibresource{bibliography.bib}
%\usepackage{siunitx}

%% TODONOTES
\paperwidth=\dimexpr \paperwidth + 6cm\relax
\oddsidemargin=\dimexpr\oddsidemargin + 3cm\relax
\evensidemargin=\dimexpr\evensidemargin + 3cm\relax
\marginparwidth=\dimexpr \marginparwidth + 3cm\relax
\usepackage{todonotes}

\input{ptp_perf_utilities.tex}

% REMOVE BEFORE SUBMISSION
\newcommand{\change}[1]{\textcolor{red}{#1}}

% Page numbers: part 1
\pagestyle{plain}

\begin{document}

\newcommand{\toolName}{EtherTime}
\newcommand{\PFive}{\ensuremath{P_{5}}}
\newcommand{\PNineFive}{\ensuremath{P_{95}}}

\title{Precision Time Synchronization on COTS Devices: A Reliable Primitive or Work-in-progress?}
%\title{Precision Time Synchronization in Embedded Systems: A Systematic Evaluation}
%\thanks{Identify applicable funding agency here. If none, delete this.}

%\author{\IEEEauthorblockN{Vincent Bode}
%\IEEEauthorblockA{\textit{Department of Computer Science} \\
%\textit{Technical University of Munich}\\
%Munich, Germany \\
%vincent.bode@tum.de}
%\and
%\IEEEauthorblockN{William Shen}
%\IEEEauthorblockA{\textit{Department of Computer Science} \\
%\textit{University of British Columbia}\\
%Vancouver, Canada \\
%wshen05@student.ubc.ca}
%\and
%\IEEEauthorblockN{Arpan Gujarati}
%\IEEEauthorblockA{\textit{Department of Computer Science} \\
%\textit{University of British Columbia}\\
%Vancouver, Canada \\
%arpanbg@cs.ubc.ca}
%%\and
%%\IEEEauthorblockN{3\textsuperscript{rd} Given Name Surname}
%%\IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%%\textit{name of organization (of Aff.)}\\
%%City, Country \\
%%email address or ORCID}
%}

\maketitle

% Page numbers: part 2
\thispagestyle{plain}

%\textbf{Potential Targets:}
%
%\begin{tabular}{p{5cm}l}
%    Venue & Deadline\\
%    \href{https://ieee-ims.org/document/ispcs-2024-call-papers}{Symposium on Precision Clock Synchronization for Measurement, Control, \& Communication} & 20.03.2024\\
%    \href{https://2024.rtss.org/call-for-papers/}{RTSS} & 23.05.2024\\
%    \href{https://2024.rtss.org/call-for-papers/}{SIGMETRICS} & 02.08.2023 (first of 3)\\
%    \href{https://ieee-ims.org/document/i2mtc-2024-call-papers}{Instrumentation and Measurement Technology Conference} & 24.11.2023\\
%\end{tabular}

\begin{abstract}
%\todo{Page limit: 11 pages excl. references}
Precision time synchronization is pervasive in modern computing systems.
Several specifications and implementations abound,
such as different variants of Precision Time Protocol (PTP) and Network Time Protocol (NTP).
To what degree can we truly rely on these
when they are deployed on distributed embedded systems with commodity processors and networks,
and when failures affect correctness?

To answer this question, we carry out a measurement-based performance
evaluation of four time synchronization protocols
(PTPd, LinuxPTP, SPTP, and Chrony)
on an Ethernet-based distributed embedded system testbed,
consisting of two generations of Raspberry Pi, Xilinx AVNet, and NVIDIA Jetson boards.
%
We build a novel benchmarking tool, \toolName{}, to assess their strengths and
weaknesses in a variety of configurations.

Our results show that critical challenges---including resource contention (specifically
network and memory, CPU is less significant) and faults of various kinds (with/without hardware clock support) -- still need to be addressed by careful configuration and testing before high-precision network time can truly be relied upon.

%Timekeeping systems are pervasive in the modern world and most real-time control systems could not function without them. However, while our embedded systems are becoming more and more distributed and have to fulfill ever more stringent fault-tolerance requirements, the ability to maintain a common notion of time across commodity computer networks is not yet perfected despite recent advancements in hardware support.
%
%We use the capabilities provided by our novel PTP benchmarking tool, \toolName{}, to conduct a systematic study of four time synchronization protocols (PTPd, LinuxPTP, SPTP, and Chrony) across four embedded hardware testbeds (based on two generations of Raspberry-Pis, Xilinx AVNet, and NVIDIA Jetson boards).
%Our study determines how these protocols perform under normal operating conditions, how many system resources they consume when scaling the embedded systems network, and under what stress conditions they break down.
%
%Overall, we find that Chrony is the most well-rounded system, with competitive synchronization accuracy, resilience and resource efficiency, while both LinuxPTP and SPTP offer synchronization accuracy but exhibit stability problems or require more resources to run. PTPd, which despite its age is still being deployed, shows shortcomings in synchronization accuracy due to the lack of support for modern hardware features. The most capable hardware platform evaluated is the Raspberry-Pi 5, both due to hardware timestamping support and importantly because of the real-time clock, which helps with fault-tolerance.
%
%Critical challenges for maintaining accurate clock synchronization include resource contention (specifically network and memory, CPU is less of an issue) and faults on the master node when the master node lacks a real-time clock. We find that these challenges still need to be addressed before high-precision network time can truly be relied upon.

\end{abstract}

\begin{IEEEkeywords}
Time Synchronization, Fault Tolerance
\end{IEEEkeywords}

\input{res/generated/summary_keys.tex}

\input{sections/introduction.tex}
\input{sections/protocols.tex}
\input{sections/testbed.tex}
\input{sections/ptp_overview.tex}
\input{sections/results.tex}
\input{sections/discussion.tex}
\input{sections/related.tex}
\input{sections/conclusion.tex}

\printbibliography

\end{document}
